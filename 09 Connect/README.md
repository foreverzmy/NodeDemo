# Connect模块

Connect模块是一个框架，它使用被称为中间件的模块化组件，以可重用的方式实现Web程序中的逻辑。

在Connect中，中间件组件是一个函数，它拦截HTTP服务器提供的请求和响应对象，执行逻辑，然后或者结束响应，或者把它传递给下一个中间件组件。Connect用分派器把中间件“连接”在一起。

## 01.js：搭建一个Connect程序

在Connect中，中间件是一个JS函数，按惯例会接收三个参数：一个请求对象，一个响应对象，还有一个通常被命名为next的参数，它是一个回调函数，表明这个组件已经完成了它的工作，可以执行下一个中间件了。

## 02.js：挂载中间件和服务器

connect有一个挂载的概念，可以给中间件或整个程序定义一个路径前缀。挂载还将只对路径前缀内的请求调用中间件或程序。

当`use()`的第一个参数是个字符串时，只有URL的前缀与之匹配时，connect才会调用后面的中间件。

`restrict`实现了一个简单的Basic认证逻辑，Basic认证是一种简单的认证机制，借助带着Base64编码认证信息的HTTP请求头中的authization字段进行认证。

#03：构建路由中间件

在Web

